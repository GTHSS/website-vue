<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="./external/three.r134.min.js"></script>
    <script async src="./external/vanta.dots.min.js"></script>
    <script defer async src="./js/detectMobile.js"></script>
    <script defer async src="./js/helpers.js"></script>
    <script defer>
      // Dynamically sets the old CSS background.
      function setBgOld() {
        const htmlBody = document.getElementsByTagName("body")[0];

        console.log("Loading old CSS...");
        loadCssIntoDom("./css/oldBackground.css"); // from helpers.js

        for (let i = 1; i < 4; i++) {
          // Creating element
          console.log("Inserting background parts... [" + i + "/3]");
          const newElement = document.createElement("div");
          newElement.classList.add("bg");
          if (i > 1) {
            newElement.classList.add("bg" + i);
          }
          htmlBody.append(newElement);
        }
        console.log("Removing stub background element...");
        document.getElementById("background").id = ""; // remove old background stub id.
      }
      function setBg() {
        injectMobilePredicate(); // from detectMobile.js

        let isMobile = window.isMobile(); // Verify platform.

        if (isMobile) {
          console.log(
            "The device is a mobile device, therefore, we use the old animated CSS theme."
          );
          setBgOld();
          console.log("Old Background Applied.");
          return;
        }

        VANTA.DOTS({
          el: "#background",
          mouseControls: true,
          touchControls: true,
          gyroControls: false,
          minHeight: window.innerHeight - 40,
          minWidth: window.innerWidth - 100,
          scale: 1.0,
          scaleMobile: 1.0,
          color: 0xffffff,
          color2: 0xf2f2f2,
          backgroundColor: 0x0,
          spacing: 27.0,
          showLines: false,
        });
      }
    </script>
    <meta charset="UTF-8" />
    <meta name="description" content="Sussy Technology&trade;" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Sussy Technology&trade;</title>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6547428867970188"
     crossorigin="anonymous"></script>
    <link rel="icon" href="./favicon.webp" />
    <script
      defer
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6547428867970188"
      crossorigin="anonymous"
    ></script>
  </head>

  <body onload="setBg()">
    <div id="background">
      <div id="app"></div>
      <script type="module" src="/src/main.ts"></script>
    </div>
  </body>
</html>
